!function($){"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return e.length>0&&this.substring(this.length-e.length,this.length)===e});var findOne=function(e,t){return t.some(function(t){return e.indexOf(t)>=0})},Wickedpicker=function(e,t){return this.defaults={now:new Date},this.element=$(e),this.element.addClass("hasWickedpicker"),this.element.attr("onkeypress","return false;"),this.createPicker(),this.options=$.extend({},this.defaults,t),this.timepicker=$(".wickedpicker"),this.up=$(".wickedpicker__controls__control-up"),this.down=$(".wickedpicker__controls__control-down"),this.hoursElem=$(".wickedpicker__controls__control--hours"),this.minutesElem=$(".wickedpicker__controls__control--minutes"),this.meridiemElem=$(".wickedpicker__controls__control--meridiem"),this.canClick=["hasWickedpicker",this.timepicker.selector.substring(1),this.up.selector.substring(1),this.down.selector.substring(1),this.hoursElem.selector.substring(1),this.minutesElem.selector.substring(1),this.meridiemElem.selector.substring(1)],this.selectedHour=(this.defaults.now.getHours()+11)%12+1,this.selectedMin=(this.defaults.now.getMinutes()<10?"0":"")+this.defaults.now.getMinutes(),this.selectedMeridiem=this.defaults.now.getHours()>12?"PM":"AM",this.attach(e),this};$.extend(Wickedpicker.prototype={showPicker:function(e){var t=$(e.target).offset();if(this.setText(e),this.getText(e)!==this.getTime()){var i=this.getText(e).replace(":","").split(" "),s=new Date;s.setHours(i[0]),s.setMinutes(i[2]),this.setTime(s),this.setMeridiem(i[3])}this.timepicker.css({"z-index":this.element.css("z-index")+1,position:"absolute",left:t.left,top:t.top+e.target.offsetHeight+5}).show(),$(this.up).off("click").on("click",$.proxy(this.changeValue,this,"+",e)),$(this.down).off("click").on("click",$.proxy(this.changeValue,this,"-",e))},hideTimepicker:function(e){var t=e.target.className.split(" ");findOne(t,this.canClick)===!1&&this.timepicker.hide()},createPicker:function(){0===$(".wickedpicker").length&&$("body").append('<div class="wickedpicker"> <p class="wickedpicker__title">Timepicker</p> <ul class="wickedpicker__controls"> <li class="wickedpicker__controls__control"> <span class="wickedpicker__controls__control-up"></span><span class="wickedpicker__controls__control--hours">00</span><span class="wickedpicker__controls__control-down"></span> </li> <li class="wickedpicker__controls__control"> <span class="wickedpicker__controls__control-up"></span><span class="wickedpicker__controls__control--minutes">00</span><span class="wickedpicker__controls__control-down"></span> </li> <li class="wickedpicker__controls__control"> <span class="wickedpicker__controls__control-up"></span><span class="wickedpicker__controls__control--meridiem">AM</span><span class="wickedpicker__controls__control-down"></span> </li> </ul> </div>')},attach:function(e){$(e).on("focus",$.proxy(this.showPicker,this)),$("html").on("click",$.proxy(this.hideTimepicker,this))},setTime:function(e){this.setHours(e.getHours()),this.setMinutes(e.getMinutes()),this.setMeridiem()},getTime:function(){return[this.getHours+" : "+this.getMinutes()+" "+this.getMeridiem()]},setHours:function(e){var t=new Date;t.setHours(e);var i=(t.getHours()+11)%12+1;this.hoursElem.text(i),this.selectedHour=i},getHours:function(){var e=new Date;return e.setHours(this.hoursElem.text()),e.getHours()},setMinutes:function(e){var t=new Date;t.setMinutes(e);var i=t.getMinutes(),s=(10>i?"0":"")+i;this.minutesElem.text(s),this.selectedMin=s},getMinutes:function(){var e=new Date;e.setMinutes(this.minutesElem.text());var t=e.getMinutes();return(10>t?"0":"")+t},setMeridiem:function(e){var t="";if(void 0===e){var i=this.getMeridiem();t="PM"===i?"AM":"PM"}else t=e;this.meridiemElem.text(t),this.selectedMeridiem=t},getMeridiem:function(){return this.meridiemElem.text()},changeValue:function(operator,input,element){var target="+"===operator?element.target.nextSibling:element.target.previousSibling,targetClass=$(target).attr("class");targetClass.endsWith("hours")?this.setHours(eval(this.getHours()+operator+1)):targetClass.endsWith("minutes")?this.setMinutes(eval(this.getMinutes()+operator+1)):this.setMeridiem(),this.setText(input)},setText:function(e){$(e.target).val(this.selectedHour+" : "+this.selectedMin+" "+this.selectedMeridiem),$(e.target).attr("value",this.selectedHour+" : "+this.selectedMin+" "+this.selectedMeridiem)},getText:function(e){return $(e.target).val()}}),$.fn.wickedpicker=function(e){return this.each(function(){new Wickedpicker(this,e)})}}(jQuery);